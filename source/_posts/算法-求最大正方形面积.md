---
title: ç®—æ³•-æ±‚æœ€å¤§æ­£æ–¹å½¢é¢ç§¯
date: 2018-01-14 17:18:04
tags: ç®—æ³•
categories: ç®—æ³•
toc: true
---
## é¢˜ç›®
### è‹±æ–‡
Given a 2D binary matrix filled with 0's and 1's, find the largest square containing only 1's and return its area.

Example:

Input: 

1 0 1 0 0
1 0 1 1 1
1 1 1 1 1
1 0 0 1 0

Output: 4
### ä¸­æ–‡
åœ¨ä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« 1 çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚

## æ€è·¯
- åŠ¨æ€è§„åˆ’(ä¸»è¦ç”¨æˆ·å°†ä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå»ºå•çš„é—®é¢˜ï¼Œæ±‚æœ€ä¼˜è§£æ—¶)ã€‚
- å£°æ˜ä¸€ä¸ªç©ºé—´å’ŒåŸæœ‰äºŒä½æ•°æ®å¤§å°ä¸€æ ·çš„äºŒä½æ•°ç»„(tmp[i][j])ã€‚
- è®¡ç®—æ¯ä¸€ä¸ªèŠ‚ç‚¹æœ€å¤§æ­£æ–¹å½¢çš„è¾¹é•¿ï¼Œå¹¶å­˜å‚¨ä¸è¯¥èŠ‚ç‚¹ï¼ˆåˆ©ç”¨ä¹‹å‰èŠ‚ç‚¹è®¡ç®—å½“å‰èŠ‚ç‚¹æœ€å¤§æ­£æ–¹å½¢è¾¹é•¿ï¼‰ã€‚
- å–tmp[i][j]å¾—æœ€å¤§å€¼çš„å¹³å‡¡è¿”å›ã€‚
## ä»£ç 

`ç¬¬ä¸€ç‰ˆä»£ç `

```php
class Solution {
  function maximalSquare($matrix) {
      $hight =  count($matrix);
      if($hight<1)
      {
          return 0;
      }
      $wide = 0;
      if($hight > 0){
          $wide= count($matrix[0]);
      }
      $ret = 0;
      for($i = 1; $i<= $hight; $i++)
      {
          $tmp = $this->getRet($matrix, $i, $hight, $wide);
          if($ret <$tmp ){
              $ret = $tmp;
          }
      }
      return $ret;
  }
    
  public function getRet($matrix, $i, $hight, $wide)
  {
    //èµ·å§‹ç‚¹çºµå‘åæ ‡  
    for($h = 0; $h<= $hight-$i; $h++ )
    {   
        for($j = 0;$j <= $wide-$i; $j++)
        {
            //h ä¸ºèµ·ç‚¹é«˜ï¼Œjä¸ºèµ·ç‚¹å®½ã€‚
            $ret = 1;
            for($m = $h; $m <$h + $i; $m++){
                for($k = $j; $k < $j + $i; $k++){
                    if($matrix[$m][$k] == 0)
                    {
                        $ret = 0;
                        break;
                    }
                }
                if($ret == 0) {
                    break;
                }
            }
            if($ret == 1){
                return $i*$i;
            }
        }
    }
    return 0;
  }
    
}

```

ç”¨phpè·‘æµ‹è¯•ç”¨ä¾‹ï¼Œè·‘äº†2.5ç§’ã€‚ğŸ˜“

å›å¤´ç”¨cé‡å†™ä¸‹è¯•è¯•ã€‚
```c
å¾…å®š
```
## æœ€ä¼˜è§£

```java
class Solution {
    public int maximalSquare(char[][] matrix) {
        /**
        dp[i][j]è¡¨ç¤ºä»¥ç¬¬iè¡Œç¬¬jåˆ—ä¸ºå³ä¸‹è§’æ‰€èƒ½æ„æˆçš„æœ€å¤§æ­£æ–¹å½¢è¾¹é•¿, åˆ™é€’æ¨å¼ä¸º: 
        dp[i][j] = 1 + min(dp[i-1][j-1], dp[i-1][j], dp[i][j-1]);
        **/
        int m = matrix.length;
        if(m < 1) return 0;
        int n = matrix[0].length;
        int max = 0;
        int[][] dp = new int[m+1][n+1];
        
        for(int i = 1; i <= m; ++i) {
            for(int j = 1; j <= n; ++j) {
                if(matrix[i-1][j-1] == '1') {
                    dp[i][j] = 1 + Math.min(dp[i-1][j-1], Math.min(dp[i-1][j], dp[i][j-1]));
                    max = Math.max(max, dp[i][j]); 
                }
            }
        }
        
        return max*max;
    }
}
```